(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const V of o)if(V.type==="childList")for(const g of V.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&c(g)}).observe(document,{childList:!0,subtree:!0});function A(o){const V={};return o.integrity&&(V.integrity=o.integrity),o.referrerPolicy&&(V.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?V.credentials="include":o.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function c(o){if(o.ep)return;o.ep=!0;const V=A(o);fetch(o.href,V)}})();const W=(()=>{const u=new Map;function r(c,o){const V=c,g=o;let w;const I=[[1,2],[1,-2],[2,1],[2,-1],[-1,2],[-1,-2],[-2,1],[-2,-1]];function B(){return w}function l(b){w||(w=b)}function m(){return`${c}, ${o}`}function E(){return I.map(y).filter(Boolean)}function y([b,k]){const[D,T]=[V+b,g+k];if(D>=0&&D<8&&T>=0&&o<8)return r(D,T)}if(u.has(m()))return u.get(m());const F={getCoordinate:m,getPredecessor:B,setPredecessor:l,createKnightMoves:E};return u.set(m(),F),F}function A(c,o){u.clear();const V=r(...c),g=r(...o),w=[g];for(;!w.includes(V);){const l=w.shift(),m=l.createKnightMoves();m.forEach(E=>E.setPredecessor(l)),w.push(...m)}const I=[V];for(;!I.includes(g);){const l=I.at(-1).getPredecessor();I.push(l)}const B=[];return I.forEach(l=>B.push(l.getCoordinate())),B}return{knightTravails:A}})(),S=(()=>{function u(A){const c=A||r()||[0,0];localStorage.setItem("knight",JSON.stringify(c))}function r(){return JSON.parse(localStorage.getItem("knight"))}return{setKnightCoords:u,getKnightCoords:r}})(),v="/assets/start-2e80ab75.mp3",q="/assets/pawnSet-b75be48c.mp3",J="data:audio/mpeg;base64,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",j="/assets/eat-7158a77f.mp3",M=(()=>{function u(c){const[o,,,V]=c;return[parseInt(o,10),parseInt(V,10)]}function r(c,o){return c*8+o}function A(){return new Promise(c=>setTimeout(c,800))}return{moveTimeout:A,getIntCoordsArray:u,coordsToIndex:r}})(),z=(()=>{function u(){c(),o(),L(),S.setKnightCoords(),V(),I(),D()}const r=8,A=8;function c(){const t=document.getElementById("board");for(let e=0;e<r;e+=1)for(let n=0;n<A;n+=1){const s=document.createElement("div");s.classList.add("figure");const i=document.createElement("div");i.classList.add("field"),i.appendChild(s),t.appendChild(i)}}function o(){const t=document.getElementById("board");let e="dark";for(let n=0;n<r;n+=1){for(let s=0;s<A;s+=1)e==="light"?(t.children[n*r+s].classList.add("light"),e="dark"):(t.children[n*A+s].classList.add("dark"),e="light");e==="dark"?e="light":e="dark"}}function V(){const t=document.getElementById("board"),e=S.getKnightCoords(),[n,s]=e,i=n*8+s,h=t.children[i].children[0],d=document.createElement("img");d.setAttribute("id","knight"),d.setAttribute("class","knight"),d.src="https://www.chess.com/chess-themes/pieces/neo_wood/150/bn.png",h.appendChild(d)}function g(t){const e=document.createElement("img");e.src="https://www.chess.com/chess-themes/pieces/neo_wood/150/wp.png",e.setAttribute("id","pawn"),e.setAttribute("class","pawn"),t.children[0].appendChild(e),H()}function w(){document.getElementById("pawn").remove(),U()}function I(){document.getElementById("board").childNodes.forEach(e=>{e.addEventListener("click",B)})}function B(t){const{target:e}=t;l(e)||(k(),m(),F(this),g(this))}function l(t){const e=document.getElementById("knight");return!!t.contains(e)}function m(){const t=document.getElementById("board"),e=document.getElementById("knight"),n=document.getElementById("options");t.classList.toggle("paused"),e.classList.toggle("paused"),n.classList.toggle("paused")}let E=0,y=[];async function F(t){const e=document.getElementById("knight"),n=document.getElementById("board"),s=[...t.parentNode.children].indexOf(t),i=parseInt(s/r,10),h=s%A;let d,p=S.getKnightCoords();typeof p[0]=="string"&&(p=M.getIntCoordsArray(p));const a=W.knightTravails(p,[i,h]);for(let f=1;f<a.length;f+=1){await M.moveTimeout(),P(f,a.length-1);const[G,N]=M.getIntCoordsArray(a[f]),C=M.coordsToIndex(G,N);if(n.children[C].children[0].appendChild(e),f===a.length-1){const K=document.createElement("div");K.textContent=E+1,K.setAttribute("class","numbered"),y.push(K),n.children[C].children[0].appendChild(K)}d=M.getIntCoordsArray(a[f-1]),b(d,[G,N]),f===a.length-1&&(w(),S.setKnightCoords([G,N]))}m()}function b(t,e){const n=[t],[s,i]=t,[h,d]=e;if(Math.abs(s-h)>Math.abs(i-d)){const a=s<h?-1:1;n.push([s+(h-s+a),i]),n.push([h,i]),n.push([h,d])}else{const a=i<d?-1:1;n.push([s,i+(d-i+a)]),n.push([s,d]),n.push([h,d])}const p=document.getElementById("board");n.forEach((a,f)=>{const[G,N]=a,C=M.coordsToIndex(G,N);if(f===0){const Q=document.createElement("div");Q.textContent=E,Q.setAttribute("class","numbered"),p.children[C].children[0].appendChild(Q),y.push(Q),E+=1}p.children[C].classList.contains("dark")?p.children[C].classList.add("dark-wood"):p.children[C].classList.add("light-wood")})}function k(){y.forEach(t=>{t.textContent="",t.classList.remove("numbered"),E=0}),y=[]}function D(){const t=document.getElementById("clear-board"),e=document.getElementById("reset-knight");t.addEventListener("click",T),e.addEventListener("click",O)}function T(){const t=document.querySelectorAll(".light-wood"),e=document.querySelectorAll(".dark-wood");t.forEach(n=>n.classList.remove("light-wood")),e.forEach(n=>n.classList.remove("dark-wood")),R()}function O(){const t=document.getElementById("board"),e=document.getElementById("knight");t.children[0].children[0].appendChild(e),S.setKnightCoords([0,0]),R()}function R(){document.querySelectorAll(".numbered").forEach(e=>e.remove())}function L(){Y(),document.getElementById("board").addEventListener("click",x,{once:!0})}function Y(){S.getKnightCoords()||document.getElementById("board").classList.add("guide")}function x(){const t=document.getElementById("board");t.classList.contains("guide")&&(t.classList.remove("guide"),Z())}function Z(){new Audio(v).play()}function H(){new Audio(q).play()}function P(t,e){t<e&&new Audio(J).play()}function U(){new Audio(j).play()}return{loadContent:u}})();z.loadContent();
